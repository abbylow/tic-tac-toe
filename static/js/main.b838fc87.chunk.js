(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(7),i=a.n(o);a(13);function s(e){return n.a.createElement("button",{className:"square",onClick:e.onClick},e.bold?n.a.createElement("b",null,e.value):n.a.createElement("div",null,e.value))}var l=a(1),u=a(2),c=a(4),h=a(3),f=a(5),m=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"renderSquare",value:function(e,t){var a=this;return n.a.createElement(s,{key:"square-".concat(e),bold:t,value:this.props.squares[e],onClick:function(){a.props.onClick(e)}})}},{key:"renderBoard",value:function(){for(var e=[],t=0;t<this.props.boardSize;t++){for(var a=[],r=0;r<this.props.boardSize;r++){var o=this.props.boardSize*t+r,i=!1;this.props.wonLine.length>0&&this.props.wonLine.indexOf(o)>-1&&(i=!0),a.push(this.renderSquare(o,i))}e.push(n.a.createElement("div",{className:"board-row",key:"row-".concat(t)},a))}return e}},{key:"render",value:function(){return n.a.createElement("div",null,this.renderBoard())}}]),t}(n.a.Component);function v(e,t){for(var a=null,r=[],n=0;n<t&&!a;){for(var o=[t*n+0],i=e[t*n+0],s=1;s<t&&i;){var l=t*n+s;i!==e[l]&&(i=null),o.push(l),s++}i&&(a=i,r=o),n++}for(var u=0;u<t&&!a;){for(var c=[0*t+u],h=e[0*t+u],f=1;f<t&&h;){var m=t*f+u;h!==e[m]&&(h=null),c.push(m),f++}h&&(a=h,r=c),u++}var v=e[0];if(!a&&v){for(var p=[0],b=1;b<t;b++){var d=t*b+b;if(v!==e[d]){v=null;break}p.push(d)}v&&(a=v,r=p)}var g=e[t*(t-1)];if(!a&&g){for(var y=[t*(t-1)],k=1;k<t;k++){var S=t*(t-1-k)+k;if(g!==e[S]){g=null;break}y.push(S)}g&&(a=g,r=y)}var w=0;return a&&(w="X"===a?-10:10),{winner:a,wonLine:r,score:w}}function p(e,t,a,r,n,o){var i=v(e,t).score;if(10===i)return i-a;if(-10===i)return i+a;if(!b(e))return 0;if(a>5)return 0;if(r){var s=-100;for(var l in e)if(!e[l]){e[l]="O";var u=p(e,t,a+1,!r,n,o);if(s=Math.max(s,u),n=Math.max(n,s),e[l]=null,o<=n)break}return s}var c=100;for(var h in e)if(!e[h]){e[h]="X";var f=p(e,t,a+1,!r,n,o);if(c=Math.min(c,f),o=Math.min(o,c),e[h]=null,o<=n)break}return c}function b(e){for(var t in e)if(!e[t])return!0;return!1}var d=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).changeBoardSize=function(e){a.setState({sizeInput:e.target.value})},a.reflectBoardSize=function(){var e=a.state.sizeInput;if(1===a.state.history.length)if(e>2&&e<6){var t=Math.pow(parseInt(e),2);a.setState({boardSize:e,history:[{squares:Array(t).fill(null),location:{col:null,row:null}}]})}else alert("Can only change the board size between 3 to 5.");else alert("Can only change the board size before game starts.")},a.changeGameMode=function(){1===a.state.history.length?a.setState({gameMode:!a.state.gameMode}):alert("Can only change the mode before game starts.")},a.findBestAiMove=function(e,t,r){var n=-1e3,o=-1;for(var i in e)if(!e[i]){e[i]="O";var s=p(e,t,0,!1,-1e3,1e3);e[i]=null,s>n&&(o=i,n=s)}e[o]="O";var l=a.state.history.slice(0,a.state.stepNumber+1);a.setState({history:l.concat({squares:e,location:{col:r%t,row:parseInt(r/t)}}),xIsNext:!0,stepNumber:l.length})},a.state={history:[{squares:Array(9).fill(null),location:{col:null,row:null}}],xIsNext:!0,stepNumber:0,isAsc:!0,boardSize:3,sizeInput:3,gameMode:0},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(e){var t=this.state.history.slice(0,this.state.stepNumber+1),a=t[t.length-1].squares.slice(),r=this.state,n=r.boardSize,o=r.xIsNext,i=r.gameMode;v(a,n).winner||a[e]||(a[e]=o?"X":"O",o&&!i&&b(a)?this.findBestAiMove(a,n,e):this.setState({history:t.concat({squares:a,location:{col:e%n,row:parseInt(e/n)}}),xIsNext:!o,stepNumber:t.length}))}},{key:"jumpTo",value:function(e){this.setState({stepNumber:e,xIsNext:e%2===0})}},{key:"sort",value:function(){this.setState({isAsc:!this.state.isAsc})}},{key:"restart",value:function(){var e=Math.pow(parseInt(this.state.sizeInput),2);this.setState({history:[{squares:Array(e).fill(null),location:{col:null,row:null}}],xIsNext:!0,stepNumber:0,isAsc:!0})}},{key:"render",value:function(){var e,t=this,a=this.state,r=a.history,o=a.boardSize,i=a.sizeInput,s=a.gameMode,l=r[this.state.stepNumber],u=v(l.squares,o),c=u.winner,h=u.wonLine,f=r.map((function(e,a){var r=a?"Go to move # ".concat(a," ( ").concat(e.location.col," , ").concat(e.location.row,")"):"Go to game start";return n.a.createElement("li",{key:a},n.a.createElement("button",{onClick:function(){return t.jumpTo(a)}},a===t.state.stepNumber?n.a.createElement("b",null,r):r))}));return e=c?"Winner: "+c:0===l.squares.filter((function(e){return null===e})).length?"It is a Draw":"Next player: "+(this.state.xIsNext?"X":"O"),n.a.createElement("div",{className:"game"},n.a.createElement("div",{className:"game-board"},n.a.createElement(m,{squares:l.squares,wonLine:h,boardSize:o,onClick:function(e){return t.handleClick(e)}})),n.a.createElement("div",{className:"game-info"},n.a.createElement("div",null,e),n.a.createElement("button",{onClick:function(){return t.restart()}},"Restart the game"),n.a.createElement("button",{onClick:function(){return t.sort()}},"Toggle order"),n.a.createElement("button",{onClick:function(){return t.changeGameMode()}},s?"Change O = AI opponent":"Change O = human opponent"),n.a.createElement("ol",null,this.state.isAsc?f:f.reverse()),"Board Size: ",n.a.createElement("input",{type:"number",name:"boardSize",value:i,onChange:this.changeBoardSize}),n.a.createElement("button",{onClick:function(){return t.reflectBoardSize()}},"Confirm")))}}]),t}(n.a.Component);i.a.render(n.a.createElement(d,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.b838fc87.chunk.js.map